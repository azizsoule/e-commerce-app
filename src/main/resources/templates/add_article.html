<!DOCTYPE html>
<html lang="en" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" xmlns:th="http://www.thymeleaf.org"
      layout:decorate="~{layout/base-layout}">
    <th:block layout:fragment="links">
        <link rel="stylesheet" href="../../../cdnjs.cloudflare.com/ajax/libs/font-awesome/4.4.0/css/font-awesome.min.css">
        <link rel="stylesheet" href="vendor/froala_editor_3.1.1/css/froala_editor.css">
        <link rel="stylesheet" href="vendor/froala_editor_3.1.1/css/froala_style.css">
        <link rel="stylesheet" href="vendor/froala_editor_3.1.1/css/plugins/code_view.css">
        <link rel="stylesheet" href="vendor/froala_editor_3.1.1/css/plugins/colors.css">
        <link rel="stylesheet" href="vendor/froala_editor_3.1.1/css/plugins/emoticons.css">
        <link rel="stylesheet" href="vendor/froala_editor_3.1.1/css/plugins/image_manager.css">
        <link rel="stylesheet" href="vendor/froala_editor_3.1.1/css/plugins/image.css">
        <link rel="stylesheet" href="vendor/froala_editor_3.1.1/css/plugins/line_breaker.css">
        <link rel="stylesheet" href="vendor/froala_editor_3.1.1/css/plugins/table.css">
        <link rel="stylesheet" href="vendor/froala_editor_3.1.1/css/plugins/char_counter.css">
        <link rel="stylesheet" href="vendor/froala_editor_3.1.1/css/plugins/video.css">
        <link rel="stylesheet" href="vendor/froala_editor_3.1.1/css/plugins/fullscreen.css">
        <link rel="stylesheet" href="vendor/froala_editor_3.1.1/css/plugins/file.css">
        <link rel="stylesheet" href="../../../cdnjs.cloudflare.com/ajax/libs/codemirror/5.3.0/codemirror.min.css">
        <!-- bootstrap 5.x or 4.x is supported. You can also use the bootstrap css 3.3.x versions -->
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" crossorigin="anonymous">

        <!-- default icons used in the plugin are from Bootstrap 5.x icon library (which can be enabled by loading CSS below) -->
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.min.css" crossorigin="anonymous">

        <!-- alternatively you can use the font awesome icon library if using with `fas` theme (or Bootstrap 4.x) by uncommenting below. -->
        <!-- link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.3/css/all.css" crossorigin="anonymous" -->

        <!-- the fileinput plugin styling CSS file -->
        <link href="https://cdn.jsdelivr.net/gh/kartik-v/bootstrap-fileinput@5.2.2/css/fileinput.min.css" media="all" rel="stylesheet" type="text/css" />

        <!-- if using RTL (Right-To-Left) orientation, load the RTL CSS file after fileinput.css by uncommenting below -->
        <!-- link href="https://cdn.jsdelivr.net/gh/kartik-v/bootstrap-fileinput@5.2.2/css/fileinput-rtl.min.css" media="all" rel="stylesheet" type="text/css" /-->

    </th:block>

    <th:block layout:fragment="content">
        <main>
            <div class="container-fluid">
                <h2 class="mt-30 page-title">Articles</h2>
                <ol class="breadcrumb mb-30">
                    <li class="breadcrumb-item"><a href="/">Dashboard</a></li>
                    <li class="breadcrumb-item"><a th:href="@{/articles}">Articles</a></li>
                    <li class="breadcrumb-item active">Add</li>
                </ol>
                <!--Alerts for submissions-->
                <div class="alert alert-success" th:if="${success}"><i class="fa fa-check-circle"></i>
                    [[${success}]]
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">x</button>
                </div>
                <div class="alert alert-danger" th:if="${fail}"><i class="fa fa-exclamation-circle"></i>
                    [[${fail}]]
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">x</button>
                </div>
                <div class="row">
                    <div class="col-lg-12 col-md-12">
                        <div class="card card-static-2 mb-30">
                            <div class="card-title-2">
                                <h4>Add New Article</h4>
                            </div>
                            <div class="card-body-table">
                                <form method="post" th:object="${article}" th:action="@{/articles/save}" enctype="multipart/form-data">
                                    <div class="news-content-right pd-20">
                                    <div class="form-group">
                                        <label class="form-label">Name*</label>
                                        <input type="text" th:field="*{label}" class="form-control" placeholder="Name" required>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Qte*</label>
                                        <input type="number" th:field="*{inventory.quantity}" class="form-control" placeholder="0" min="0" required>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Sub-category*</label>
                                        <select th:field="*{subCategory.idSubCategory}" class="form-control" required>
                                            <option th:each="subCategory:${subCategories}" th:value="${subCategory.idSubCategory}"
                                                    th:text="${subCategory.label}">Fruits & Vegetables
                                            </option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Brand*</label>
                                        <input type="text" th:field="*{brand}" class="form-control" placeholder="Apple,Samsung...">
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Price*</label>
                                        <input type="number" th:field="*{price}" class="form-control" placeholder="$0" required>
                                    </div>
                                        <input type="hidden" th:field="*{description}" id="description">
                                    <div class="form-group">
                                        <label class="form-label">Status*</label>
                                        <select id="status" name="status" class="form-control">
                                            <option selected>Active</option>
                                            <option value="1">Inactive</option>
                                        </select>
                                    </div>

                                    <div class="form-group">
                                        <label class="form-label">Description*</label>
                                        <div class="card card-editor">
                                            <div class="content-editor">
                                                <div id='edit'></div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Product Image*</label>
                                        <div class="input-group">
                                            <div class="">
                                                <input type="file" class="file form-control-file" id="inputGroupFile04" name="articleImage" required>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Illustration images*</label>
                                        <div class="input-group">
                                            <div class="">
                                                <input id="multipleFiles" name="files" type="file" class="file" multiple data-show-upload="false" data-show-caption="true" data-msg-placeholder="Select {files} for upload..."
                                                       data-allowed-file-extensions='["png", "jpeg","jpg","svg"]'>
                                            </div>
                                        </div>
                                    </div>
                                        <button class="save-btn hover-btn" type="submit">Add New Product</button>
                                </div>
                                </form>

                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </th:block>

    <th:block layout:fragment="scripts">
       <script type="text/javascript"
        src="../../../cdnjs.cloudflare.com/ajax/libs/codemirror/5.3.0/codemirror.min.js"></script>
<script type="text/javascript"
        src="../../../cdnjs.cloudflare.com/ajax/libs/codemirror/5.3.0/mode/xml/xml.min.js"></script>
<script type="text/javascript" src="vendor/froala_editor_3.1.1/js/froala_editor.min.js"></script>
<script type="text/javascript" src="vendor/froala_editor_3.1.1/js/plugins/align.min.js"></script>
<script type="text/javascript" src="vendor/froala_editor_3.1.1/js/plugins/code_beautifier.min.js"></script>
<script type="text/javascript" src="vendor/froala_editor_3.1.1/js/plugins/code_view.min.js"></script>
<script type="text/javascript" src="vendor/froala_editor_3.1.1/js/plugins/colors.min.js"></script>
<script type="text/javascript" src="vendor/froala_editor_3.1.1/js/plugins/emoticons.min.js"></script>
<script type="text/javascript" src="vendor/froala_editor_3.1.1/js/plugins/draggable.min.js"></script>
<script type="text/javascript" src="vendor/froala_editor_3.1.1/js/plugins/font_size.min.js"></script>
<script type="text/javascript" src="vendor/froala_editor_3.1.1/js/plugins/font_family.min.js"></script>
<script type="text/javascript" src="vendor/froala_editor_3.1.1/js/plugins/image.min.js"></script>
<script type="text/javascript" src="vendor/froala_editor_3.1.1/js/plugins/file.min.js"></script>
<script type="text/javascript" src="vendor/froala_editor_3.1.1/js/plugins/image_manager.min.js"></script>
<script type="text/javascript" src="vendor/froala_editor_3.1.1/js/plugins/line_breaker.min.js"></script>
<script type="text/javascript" src="vendor/froala_editor_3.1.1/js/plugins/link.min.js"></script>
<script type="text/javascript" src="vendor/froala_editor_3.1.1/js/plugins/lists.min.js"></script>
<script type="text/javascript" src="vendor/froala_editor_3.1.1/js/plugins/paragraph_format.min.js"></script>
<script type="text/javascript" src="vendor/froala_editor_3.1.1/js/plugins/paragraph_style.min.js"></script>
<script type="text/javascript" src="vendor/froala_editor_3.1.1/js/plugins/video.min.js"></script>
<script type="text/javascript" src="vendor/froala_editor_3.1.1/js/plugins/table.min.js"></script>
<script type="text/javascript" src="vendor/froala_editor_3.1.1/js/plugins/url.min.js"></script>
<script type="text/javascript" src="vendor/froala_editor_3.1.1/js/plugins/entities.min.js"></script>
<script type="text/javascript" src="vendor/froala_editor_3.1.1/js/plugins/char_counter.min.js"></script>
<script type="text/javascript" src="vendor/froala_editor_3.1.1/js/plugins/inline_style.min.js"></script>
<script type="text/javascript" src="vendor/froala_editor_3.1.1/js/plugins/save.min.js"></script>
<script type="text/javascript" src="vendor/froala_editor_3.1.1/js/plugins/fullscreen.min.js"></script>
<script type="text/javascript" src="vendor/froala_editor_3.1.1/js/plugins/quote.min.js"></script>
<!-- the jQuery Library -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js" crossorigin="anonymous"></script>

<!-- piexif.min.js is needed for auto orienting image files OR when restoring exif data in resized images and when you
    wish to resize images before upload. This must be loaded before fileinput.min.js -->
<script src="https://cdn.jsdelivr.net/gh/kartik-v/bootstrap-fileinput@5.2.2/js/plugins/piexif.min.js" type="text/javascript"></script>

<!-- sortable.min.js is only needed if you wish to sort / rearrange files in initial preview.
    This must be loaded before fileinput.min.js -->
<script src="https://cdn.jsdelivr.net/gh/kartik-v/bootstrap-fileinput@5.2.2/js/plugins/sortable.min.js" type="text/javascript"></script>

<!-- bootstrap.bundle.min.js below is needed if you wish to zoom and preview file content in a detail modal
    dialog. bootstrap 5.x or 4.x is supported. You can also use the bootstrap js 3.3.x versions. -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>

<!-- the main fileinput plugin script JS file -->
<script src="https://cdn.jsdelivr.net/gh/kartik-v/bootstrap-fileinput@5.2.2/js/fileinput.min.js"></script>

<!-- following theme script is needed to use the Font Awesome 5.x theme (`fas`). Uncomment if needed. -->
<!-- script src="https://cdn.jsdelivr.net/gh/kartik-v/bootstrap-fileinput@5.2.2/themes/fas/theme.min.js"></script -->

<!-- optionally if you need translation for your language then include the locale file as mentioned below (replace LANG.js with your language locale) -->
<script src="https://cdn.jsdelivr.net/gh/kartik-v/bootstrap-fileinput@5.2.2/js/locales/LANG.js"></script>
<script>
			(function () {
			  new FroalaEditor("#edit", {
				zIndex: 10
			  })
			})()
            function submit(){
                // document.getElementById("description").value = document.getElementById("edit").text;
                console.log(document.getElementById("edit").text);
            }


            // with plugin options
            $("#inputGroupFile04").fileinput({'showUpload':false, 'previewFileType':'any'});
            $("#multipleFiles").fileinput({'showUpload':false, 'previewFileType':'any',});

</script>

    </th:block>
</html>
